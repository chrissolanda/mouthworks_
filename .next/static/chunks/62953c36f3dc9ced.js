(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,88511,e=>{"use strict";let t=(0,e.i(75254).default)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);e.s(["Edit",()=>t],88511)},94628,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(91432),a=e.i(77395),l=e.i(70065),n=e.i(67881),i=e.i(23750),d=e.i(60289),c=e.i(61911),o=e.i(87316),m=e.i(77176),x=e.i(61659),h=e.i(88844),u=e.i(17923),p=e.i(39616),g=e.i(7233),j=e.i(88511),f=e.i(27612),N=e.i(55436);let b=(0,e.i(75254).default)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);var v=e.i(44496),y=e.i(47163),C=e.i(37727);function w({treatment:e,onClose:s,onSubmit:a}){let[l,d]=(0,r.useState)({name:"",category:"Cleaning",price:"",description:""});(0,r.useEffect)(()=>{e&&d({name:e.name,category:e.category,price:String(e.price),description:e.description})},[e]);let c=e=>{let{name:t,value:r}=e.target;d(e=>({...e,[t]:r}))};return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-card rounded-lg shadow-2xl max-w-md w-full max-h-96 overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-border sticky top-0 bg-card",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-foreground",children:e?"Edit Treatment":"Add New Treatment"}),(0,t.jsx)("button",{onClick:s,className:"p-1 hover:bg-muted rounded-lg transition-colors",children:(0,t.jsx)(C.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),l.name&&l.price&&l.description&&(a({...l,price:Number.parseFloat(l.price)}),d({name:"",category:"Cleaning",price:"",description:""}))},className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-foreground",children:"Treatment Name"}),(0,t.jsx)(i.Input,{name:"name",value:l.name,onChange:c,placeholder:"e.g., Professional Cleaning",className:"border-border",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-foreground",children:"Category"}),(0,t.jsxs)("select",{name:"category",value:l.category,onChange:c,className:"w-full px-3 py-2 border border-border rounded-lg",children:[(0,t.jsx)("option",{children:"Cleaning"}),(0,t.jsx)("option",{children:"Extraction"}),(0,t.jsx)("option",{children:"Restoration"}),(0,t.jsx)("option",{children:"Endodontics"}),(0,t.jsx)("option",{children:"Orthodontics"}),(0,t.jsx)("option",{children:"Cosmetic"}),(0,t.jsx)("option",{children:"Other"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-foreground",children:"Price (â‚±)"}),(0,t.jsx)(i.Input,{name:"price",type:"number",step:"0.01",value:l.price,onChange:c,placeholder:"0.00",className:"border-border",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-foreground",children:"Description"}),(0,t.jsx)("textarea",{name:"description",value:l.description,onChange:c,placeholder:"Detailed treatment description...",className:"w-full p-2 border border-border rounded-lg text-sm resize-none",rows:3,required:!0})]}),(0,t.jsxs)("div",{className:"flex gap-2 pt-4",children:[(0,t.jsx)(n.Button,{type:"button",onClick:s,variant:"outline",className:"flex-1 bg-transparent",children:"Cancel"}),(0,t.jsxs)(n.Button,{type:"submit",className:"flex-1 bg-primary hover:bg-primary/90 text-primary-foreground",children:[e?"Update":"Add"," Treatment"]})]})]})]})})}function S(){let{user:e}=(0,s.useAuth)(),[C,S]=(0,r.useState)([]),[T,k]=(0,r.useState)(!0),[A,P]=(0,r.useState)(!1),[E,B]=(0,r.useState)(null),[D,H]=(0,r.useState)("");(0,r.useEffect)(()=>{q()},[]);let q=async()=>{try{k(!0);let e=await v.treatmentService.getAll();S(e||[])}catch(e){console.error("[v0] Error loading treatments:",e)}finally{k(!1)}},I=[{label:"Dashboard",icon:(0,t.jsx)(d.LayoutDashboard,{className:"w-5 h-5"}),href:"/hr/dashboard"},{label:"Patients",icon:(0,t.jsx)(c.Users,{className:"w-5 h-5"}),href:"/hr/patients"},{label:"Appointments",icon:(0,t.jsx)(o.Calendar,{className:"w-5 h-5"}),href:"/hr/appointments"},{label:"Treatments",icon:(0,t.jsx)(m.Bluetooth,{className:"w-5 h-5"}),href:"/hr/treatments"},{label:"Payments",icon:(0,t.jsx)(x.CreditCard,{className:"w-5 h-5"}),href:"/hr/payments"},{label:"Inventory",icon:(0,t.jsx)(h.Package,{className:"w-5 h-5"}),href:"/hr/inventory"},{label:"Reports",icon:(0,t.jsx)(u.BarChart3,{className:"w-5 h-5"}),href:"/hr/reports"},{label:"Settings",icon:(0,t.jsx)(p.Settings,{className:"w-5 h-5"}),href:"/hr/settings"}],L=async e=>{try{if(E){let t=await v.treatmentService.update(E.id,e);S(C.map(e=>e.id===E.id?t:e)),B(null)}else{let t=await v.treatmentService.create(e);S([t,...C])}P(!1)}catch(e){console.error("[v0] Error saving treatment:",e)}},M=async e=>{if(confirm("Are you sure you want to delete this treatment?"))try{await v.treatmentService.delete(e),S(C.filter(t=>t.id!==e))}catch(e){console.error("[v0] Error deleting treatment:",e)}},z=C.filter(e=>e.name.toLowerCase().includes(D.toLowerCase())||e.category.toLowerCase().includes(D.toLowerCase())),O=[...new Set(C.map(e=>e.category))];return(0,t.jsxs)(a.default,{navItems:I,title:"Treatment Management",children:[(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-foreground",children:"Manage Treatments & Services"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Add, edit, and manage dental services offered at the clinic"})]}),(0,t.jsxs)(n.Button,{onClick:()=>{B(null),P(!0)},className:"bg-primary hover:bg-primary/90 text-primary-foreground gap-2",children:[(0,t.jsx)(g.Plus,{className:"w-4 h-4"}),"Add Treatment"]})]}),(0,t.jsx)(l.Card,{children:(0,t.jsx)(l.CardContent,{className:"pt-6",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(N.Search,{className:"absolute left-3 top-2.5 w-4 h-4 text-muted-foreground"}),(0,t.jsx)(i.Input,{type:"text",placeholder:"Search by service name or category...",value:D,onChange:e=>H(e.target.value),className:"pl-10 border-border"})]})})}),(0,t.jsx)("div",{className:"flex gap-2 flex-wrap",children:["All",...O].map(e=>(0,t.jsx)("button",{onClick:()=>{"All"===e?H(""):H(e)},className:`px-4 py-2 rounded-lg font-medium transition-colors text-sm ${"All"===e&&!D||D===e?"bg-primary text-primary-foreground":"bg-muted text-foreground hover:bg-muted/80"}`,children:e},e))}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:0===z.length?(0,t.jsx)("div",{className:"col-span-full text-center py-8",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:"No treatments found"})}):z.map(e=>(0,t.jsxs)(l.Card,{className:"hover:shadow-md transition-shadow hover:border-primary",children:[(0,t.jsx)(l.CardHeader,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(l.CardTitle,{className:"text-lg",children:e.name}),(0,t.jsxs)(l.CardDescription,{className:"flex items-center gap-1",children:[(0,t.jsx)(b,{className:"w-3 h-3"}),e.category]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>{B(e),P(!0)},className:"p-1.5 hover:bg-muted rounded-lg transition-colors text-primary",children:(0,t.jsx)(j.Edit,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>M(e.id),className:"p-1.5 hover:bg-destructive/10 rounded-lg transition-colors text-destructive",children:(0,t.jsx)(f.Trash2,{className:"w-4 h-4"})})]})]})}),(0,t.jsxs)(l.CardContent,{className:"space-y-3",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description||"No description"}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-foreground",children:"Price"}),(0,t.jsx)("span",{className:"font-bold text-lg text-primary",children:(0,y.formatCurrency)(e.price)})]})]})]},e.id))}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)(l.Card,{className:"hover:shadow-md transition-shadow",children:[(0,t.jsx)(l.CardHeader,{className:"pb-3",children:(0,t.jsx)(l.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Total Services"})}),(0,t.jsxs)(l.CardContent,{children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-primary",children:C.length}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Services available"})]})]}),(0,t.jsxs)(l.Card,{className:"hover:shadow-md transition-shadow",children:[(0,t.jsx)(l.CardHeader,{className:"pb-3",children:(0,t.jsx)(l.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Avg Price"})}),(0,t.jsxs)(l.CardContent,{children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-primary",children:(0,y.formatCurrency)(C.length>0?C.reduce((e,t)=>e+(t.price||0),0)/C.length:0)}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Per service"})]})]}),(0,t.jsxs)(l.Card,{className:"hover:shadow-md transition-shadow",children:[(0,t.jsx)(l.CardHeader,{className:"pb-3",children:(0,t.jsx)(l.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Categories"})}),(0,t.jsxs)(l.CardContent,{children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-primary",children:O.length}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Service categories"})]})]})]})]}),A&&(0,t.jsx)(w,{treatment:E,onClose:()=>{P(!1),B(null)},onSubmit:L})]})}e.s(["default",()=>S],94628)}]);