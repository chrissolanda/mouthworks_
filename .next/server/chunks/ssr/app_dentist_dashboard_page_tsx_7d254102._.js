module.exports=[72351,a=>{"use strict";var b=a.i(87924),c=a.i(21937),d=a.i(96313),e=a.i(3130),f=a.i(40695),g=a.i(30617),h=a.i(41675),i=a.i(34422),j=a.i(39761),k=a.i(16201),l=a.i(62722),m=a.i(90166),n=a.i(72131),o=a.i(2288),p=a.i(5522),q=a.i(33508),r=a.i(46842),s=a.i(35126),t=a.i(81560),u=a.i(83497),v=a.i(97895);function w({appointment:a,onClose:c,onSaveAndComplete:d}){let[e,g]=(0,n.useState)([]),[i,j]=(0,n.useState)([]),[k,l]=(0,n.useState)(""),[m,w]=(0,n.useState)(!0);(0,n.useEffect)(()=>{x()},[]);let x=async()=>{try{let a=await o.treatmentService.getAll();g(a||[])}catch(a){console.error("Error loading treatments:",a)}finally{w(!1)}},y=()=>{if(!a.service)return[];let b=a.service.toLowerCase(),c=[];return b.includes("cleaning")?c.push("Professional Cleaning","Scaling & Polishing","Fluoride Treatment"):b.includes("checkup")||b.includes("examination")?c.push("Comprehensive Oral Exam","X-Ray (Full Mouth)","Periodontal Screening"):b.includes("filling")?c.push("Composite Filling","Amalgam Filling","Temporary Filling"):b.includes("extraction")?c.push("Simple Extraction","Surgical Extraction","Wisdom Tooth Extraction"):b.includes("root canal")?c.push("Root Canal Treatment","Endodontic Therapy","Root Canal Retreatment"):b.includes("crown")||b.includes("bridge")?c.push("Porcelain Crown","Metal Crown","Bridge Installation"):b.includes("whitening")||b.includes("bleaching")?c.push("Teeth Whitening","In-Office Bleaching","Take-Home Whitening Kit"):(b.includes("orthodontic")||b.includes("braces"))&&c.push("Orthodontic Consultation","Braces Installation","Retainer Fitting"),e.filter(a=>c.some(b=>a.name.toLowerCase().includes(b.toLowerCase())))},z=k?e.filter(a=>a.name.toLowerCase().includes(k.toLowerCase())||a.category.toLowerCase().includes(k.toLowerCase())):y().length>0?y():e,A=(a,b)=>{b<1||j(c=>c.map(c=>c.treatment_id===a?{...c,quantity:b}:c))},B=i.reduce((a,b)=>a+b.price*b.quantity,0),C=async()=>{if(0===i.length)return void alert("Please add at least one treatment before completing.");try{await d(i,B)}catch(a){console.error("Error saving treatments:",a)}};return(0,b.jsx)("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-card rounded-xl shadow-2xl max-w-5xl w-full max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-border sticky top-0 bg-card z-10",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-foreground",children:"Add Treatments - Procedure in Progress"}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:["Select treatments performed for ",a.patients?.name]})]}),(0,b.jsx)("button",{onClick:c,className:"p-2 hover:bg-muted rounded-lg transition-colors",children:(0,b.jsx)(q.X,{className:"w-5 h-5"})})]}),(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsx)("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-lg p-4",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:(0,b.jsx)(r.User,{className:"w-5 h-5 text-blue-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-blue-600 font-medium",children:"Patient"}),(0,b.jsx)("p",{className:"font-bold text-blue-900",children:a.patients?.name})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:(0,b.jsx)(h.Calendar,{className:"w-5 h-5 text-blue-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-blue-600 font-medium",children:"Appointment"}),(0,b.jsxs)("p",{className:"font-bold text-blue-900",children:[a.date," at ",a.time]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:(0,b.jsx)(s.Stethoscope,{className:"w-5 h-5 text-blue-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-blue-600 font-medium",children:"Service"}),(0,b.jsx)("p",{className:"font-bold text-blue-900",children:a.service||"General Treatment"})]})]})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-bold mb-2",children:y().length>0?"Suggested Treatments":"All Treatments"}),(0,b.jsx)(p.Input,{placeholder:"Search treatments...",value:k,onChange:a=>l(a.target.value),className:"mb-3"})]}),(0,b.jsx)("div",{className:"border-2 border-border rounded-lg p-4 space-y-2 max-h-[400px] overflow-y-auto",children:m?(0,b.jsx)("p",{className:"text-center text-muted-foreground py-4",children:"Loading treatments..."}):0===z.length?(0,b.jsx)("p",{className:"text-center text-muted-foreground py-4",children:"No treatments found"}):z.map(a=>(0,b.jsx)("button",{onClick:()=>{i.find(b=>b.treatment_id===a.id)?j(b=>b.map(b=>b.treatment_id===a.id?{...b,quantity:b.quantity+1}:b)):j(b=>[...b,{treatment_id:a.id,name:a.name,price:a.price,quantity:1}])},className:"w-full p-3 border border-border rounded-lg hover:bg-muted hover:border-primary transition-all text-left group",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"font-bold text-foreground group-hover:text-primary",children:a.name}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:a.category}),a.description&&(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:a.description})]}),(0,b.jsxs)("div",{className:"text-right ml-3",children:[(0,b.jsx)("p",{className:"font-bold text-primary",children:(0,v.formatCurrency)(a.price)}),a.duration&&(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:a.duration})]})]})},a.id))})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("h3",{className:"text-lg font-bold",children:["Selected Treatments (",i.length,")"]}),(0,b.jsx)("div",{className:"border-2 border-primary rounded-lg p-4 space-y-3 min-h-[400px]",children:0===i.length?(0,b.jsxs)("div",{className:"text-center py-12 text-muted-foreground",children:[(0,b.jsx)(u.Package,{className:"w-12 h-12 mx-auto mb-2 opacity-30"}),(0,b.jsx)("p",{children:"No treatments selected yet"}),(0,b.jsx)("p",{className:"text-sm",children:"Click on treatments from the left to add them"})]}):(0,b.jsxs)(b.Fragment,{children:[i.map(a=>(0,b.jsxs)("div",{className:"p-3 bg-muted rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("p",{className:"font-bold text-foreground",children:a.name}),(0,b.jsx)("button",{onClick:()=>{var b;return b=a.treatment_id,void j(a=>a.filter(a=>a.treatment_id!==b))},className:"p-1 hover:bg-destructive/10 rounded text-destructive",children:(0,b.jsx)(t.Trash2,{className:"w-4 h-4"})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>A(a.treatment_id,a.quantity-1),className:"w-7 h-7 border border-border rounded hover:bg-background",children:"-"}),(0,b.jsx)(p.Input,{type:"number",value:a.quantity,onChange:b=>A(a.treatment_id,parseInt(b.target.value)||1),className:"w-16 h-7 text-center",min:"1"}),(0,b.jsx)("button",{onClick:()=>A(a.treatment_id,a.quantity+1),className:"w-7 h-7 border border-border rounded hover:bg-background",children:"+"})]}),(0,b.jsxs)("div",{className:"flex-1 text-right",children:[(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(0,v.formatCurrency)(a.price)," Ã— ",a.quantity]}),(0,b.jsx)("p",{className:"font-bold text-primary",children:(0,v.formatCurrency)(a.price*a.quantity)})]})]})]},a.treatment_id)),(0,b.jsxs)("div",{className:"border-t-2 border-primary pt-3 mt-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("span",{className:"text-lg font-bold text-foreground",children:"Total Amount:"}),(0,b.jsx)("span",{className:"text-2xl font-bold text-primary",children:(0,v.formatCurrency)(B)})]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"This amount will be charged to the patient"})]})]})})]})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4 border-t",children:[(0,b.jsx)(f.Button,{onClick:c,variant:"outline",className:"flex-1 h-12",children:"Cancel"}),(0,b.jsx)(f.Button,{onClick:C,className:"flex-1 h-12 bg-green-600 hover:bg-green-700 text-white font-bold",disabled:0===i.length,children:"Save & Complete Appointment"})]})]})]})})}var x=a.i(32860),y=a.i(50944);function z({appointment:a,treatmentCount:c,onClose:d}){let e=(0,y.useRouter)();return(0,b.jsx)("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:(0,b.jsx)("div",{className:"bg-card rounded-xl shadow-2xl max-w-md w-full",children:(0,b.jsxs)("div",{className:"p-6 text-center space-y-6",children:[(0,b.jsx)("div",{className:"w-20 h-20 bg-green-100 rounded-full mx-auto flex items-center justify-center",children:(0,b.jsx)(k.CheckCircle,{className:"w-12 h-12 text-green-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"Appointment Completed!"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Treatment has been successfully completed"})]}),(0,b.jsxs)("div",{className:"bg-muted/50 rounded-lg p-4 text-left space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0",children:(0,b.jsx)(r.User,{className:"w-5 h-5 text-primary"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Patient"}),(0,b.jsx)("p",{className:"font-bold text-foreground",children:a.patients?.name||"Unknown"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0",children:(0,b.jsx)(u.Package,{className:"w-5 h-5 text-primary"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Service"}),(0,b.jsx)("p",{className:"font-bold text-foreground",children:a.service||"Treatment"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0",children:(0,b.jsx)(h.Calendar,{className:"w-5 h-5 text-primary"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Date"}),(0,b.jsx)("p",{className:"font-bold text-foreground",children:a.date})]})]}),c&&c>0&&(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0",children:(0,b.jsx)(u.Package,{className:"w-5 h-5 text-primary"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Treatments Added"}),(0,b.jsxs)("p",{className:"font-bold text-foreground",children:[c," treatment(s)"]})]})]}),a.amount&&a.amount>0&&(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:(0,b.jsx)(m.DollarSign,{className:"w-5 h-5 text-green-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total Amount"}),(0,b.jsx)("p",{className:"font-bold text-green-600 text-lg",children:(0,v.formatCurrency)(a.amount)})]})]})]}),(0,b.jsxs)("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-lg p-4 text-left",children:[(0,b.jsx)("p",{className:"font-bold text-blue-900 mb-2",children:"ðŸ“‹ Next Step: Payment Recording"}),(0,b.jsx)("p",{className:"text-sm text-blue-700",children:"Please inform the HR/Admin staff to record the payment for this completed appointment. The payment will be processed and your earnings will be updated automatically."})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,b.jsxs)(f.Button,{onClick:()=>{localStorage.removeItem("user"),e.push("/login")},className:"w-full h-12 bg-primary hover:bg-primary/90 text-primary-foreground font-bold text-lg",children:["Log in as HR",(0,b.jsx)(x.ArrowRight,{className:"w-5 h-5 ml-2"})]}),(0,b.jsx)(f.Button,{onClick:d,variant:"outline",className:"w-full h-10",children:"Stay on Dashboard"})]})]})})})}function A(){let{user:a}=(0,c.useAuth)(),[p,q]=(0,n.useState)([]),[r,s]=(0,n.useState)(null),[t,u]=(0,n.useState)(!0),[v,x]=(0,n.useState)(null),[y,A]=(0,n.useState)(!1),[B,C]=(0,n.useState)(!1),[D,E]=(0,n.useState)(!1),[F,G]=(0,n.useState)(null),[H,I]=(0,n.useState)(0),[J,K]=(0,n.useState)({appointments:0,completed:0,pending:0,earnings:0});(0,n.useEffect)(()=>{L();let a=setInterval(()=>{L()},3e3);return()=>clearInterval(a)},[a?.email]);let L=async()=>{if(a?.email)try{let b=await o.dentistService.getAll(),c=(b||[]).find(b=>b.user_id===a.id),d=(b||[]).find(b=>(b.email||"").toLowerCase()===(a.email||"").toLowerCase()),e=c||d;e?.id?(s(e.id),await M(e.id)):(s(null),q([]))}catch(a){console.error("[v0] Error loading dentist record:",a),q([])}},M=async a=>{let b=a||r;if(b)try{u(!0);let a=await o.appointmentService.getByDentistId(b);q(a||[]);let c=(a||[]).filter(a=>"completed"===a.status).length,d=(a||[]).filter(a=>"pending"===a.status).length;try{let e=(await o.paymentService.getByDentistId(b)||[]).filter(a=>"paid"===a.status||"partial"===a.status).reduce((a,b)=>a+(b.amount||0),0);K({appointments:(a||[]).length,completed:c,pending:d,earnings:e})}catch(b){console.log("[v0] Could not load earnings from payments (this is OK):",b),K({appointments:(a||[]).length,completed:c,pending:d,earnings:0})}}catch(a){console.error("[v0] Error loading appointments:",a)}finally{u(!1)}},N=async a=>{x(a);try{await o.appointmentService.changeStatus(a,"confirmed"),q(b=>b.map(b=>b.id===a?{...b,status:"confirmed"}:b))}catch(a){console.error("[v0] Error approving appointment:",a),alert("Failed to approve appointment")}finally{x(null)}},O=async a=>{x(a);try{await o.appointmentService.changeStatus(a,"rejected"),q(b=>b.map(b=>b.id===a?{...b,status:"rejected"}:b))}catch(a){console.error("[v0] Error rejecting appointment:",a),alert("Failed to reject appointment")}finally{x(null)}},P=async a=>{x(a.id);try{await o.appointmentService.changeStatus(a.id,"in-progress"),q(b=>b.map(b=>b.id===a.id?{...b,status:"in-progress"}:b)),G(a),C(!0)}catch(a){console.error("[v0] Error starting procedure:",a),alert("Failed to start procedure")}finally{x(null)}},Q=async(a,b)=>{if(!F){console.error("[v0] No appointment selected"),alert("Error: No appointment selected");return}console.log("[v0] ðŸ”„ Starting handleSaveAndComplete..."),console.log("[v0] Selected appointment:",F),console.log("[v0] Treatments to save:",a),console.log("[v0] Total amount:",b);try{console.log("[v0] ðŸ’¾ Saving treatments to treatment_records...");for(let b=0;b<a.length;b++){let c=a[b];console.log(`[v0] Saving treatment ${b+1}/${a.length}:`,c);let d={patient_id:F.patient_id,dentist_id:F.dentist_id,appointment_id:F.id,treatment_id:c.treatment_id,date:F.date,quantity:c.quantity,notes:`${c.name} - ${c.quantity}x`};console.log("[v0] Record data:",d);try{let a=await o.treatmentRecordService.create(d);console.log(`[v0] âœ… Treatment ${b+1} saved successfully:`,a)}catch(a){throw console.error(`[v0] âŒ Failed to save treatment ${b+1}:`,a),a}}console.log("[v0] ðŸ“ Updating appointment status and amount...");try{await o.appointmentService.update(F.id,{status:"completed",amount:b}),console.log("[v0] âœ… Appointment updated successfully")}catch(a){throw console.error("[v0] âŒ Failed to update appointment:",a),a}console.log("[v0] ðŸ”„ Updating local state..."),q(a=>a.map(a=>a.id===F.id?{...a,status:"completed",amount:b}:a)),console.log("[v0] ðŸŽ‰ Showing completion modal..."),C(!1),I(a.length),E(!0),console.log("[v0] ðŸ”„ Reloading appointments..."),await L(),console.log("[v0] âœ… All done!")}catch(a){console.error("[v0] âŒ Error completing appointment:",a),console.error("[v0] Error details:",{message:a instanceof Error?a.message:"Unknown error",stack:a instanceof Error?a.stack:void 0,error:a}),alert("Failed to complete appointment: "+(a instanceof Error?a.message:"Unknown error"))}},R=new Date().toISOString().split("T")[0],S=p.filter(a=>"pending"===a.status),T=p.filter(a=>"confirmed"===a.status||"attended"===a.status||"in-progress"===a.status),U=p.filter(a=>a.date===R),V=[{label:"Dashboard",icon:(0,b.jsx)(g.LayoutDashboard,{className:"w-5 h-5"}),href:"/dentist/dashboard"},{label:"My Schedule",icon:(0,b.jsx)(h.Calendar,{className:"w-5 h-5"}),href:"/dentist/schedule"},{label:"Treatments",icon:(0,b.jsx)(i.Bluetooth,{className:"w-5 h-5"}),href:"/dentist/treatments"},{label:"Earnings",icon:(0,b.jsx)(m.DollarSign,{className:"w-5 h-5"}),href:"/dentist/earnings"},{label:"Reports",icon:(0,b.jsx)(j.BarChart3,{className:"w-5 h-5"}),href:"/dentist/reports"}];return(0,b.jsxs)(d.default,{navItems:V,title:"Dentist Schedule",children:[(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-r from-primary to-accent rounded-xl p-8 text-primary-foreground shadow-lg",children:[(0,b.jsxs)("h1",{className:"text-4xl font-bold mb-2",children:["Welcome, ",a?.name]}),(0,b.jsx)("p",{className:"text-lg opacity-90",children:"Manage your appointments and patient treatments"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,b.jsxs)(e.Card,{className:"border-2 hover:border-primary hover:shadow-lg transition-all",children:[(0,b.jsx)(e.CardHeader,{className:"pb-3",children:(0,b.jsx)(e.CardTitle,{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Today's Appointments"})}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)("div",{className:"text-4xl font-bold text-primary",children:U.length}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"All confirmed"})]})]}),(0,b.jsxs)(e.Card,{className:"border-2 hover:border-yellow-500 hover:shadow-lg transition-all",children:[(0,b.jsx)(e.CardHeader,{className:"pb-3",children:(0,b.jsx)(e.CardTitle,{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Pending Approvals"})}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)("div",{className:"text-4xl font-bold text-yellow-600",children:S.length}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"Awaiting action"})]})]}),(0,b.jsxs)(e.Card,{className:"border-2 hover:border-primary hover:shadow-lg transition-all",children:[(0,b.jsx)(e.CardHeader,{className:"pb-3",children:(0,b.jsx)(e.CardTitle,{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"This Week"})}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)("div",{className:"text-4xl font-bold text-primary",children:T.length}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"Total appointments"})]})]}),(0,b.jsxs)(e.Card,{className:"border-2 hover:border-green-500 hover:shadow-lg transition-all",children:[(0,b.jsx)(e.CardHeader,{className:"pb-3",children:(0,b.jsx)(e.CardTitle,{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"ðŸ’µ Total Earnings"})}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsxs)("div",{className:"text-4xl font-bold text-green-600",children:["â‚±",(J.earnings||0).toLocaleString()]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"From completed appointments"})]})]})]}),(0,b.jsxs)(e.Card,{className:"border-2 shadow-md",children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{className:"text-2xl font-bold",children:"Pending Appointment Approvals"}),(0,b.jsx)(e.CardDescription,{className:"text-base",children:"Appointments awaiting your decision"})]}),(0,b.jsx)(e.CardContent,{children:t?(0,b.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"Loading appointments..."}):0===S.length?(0,b.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"No pending appointments"}):(0,b.jsx)("div",{className:"space-y-3",children:S.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg hover:bg-muted/50 transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-sm font-semibold text-primary",children:a.patients?.name?a.patients.name.charAt(0):"?"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-foreground",children:a.patients?.name||"Unknown Patient"}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:[a.date," at ",a.time]})]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(f.Button,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",onClick:()=>N(a.id),disabled:v===a.id,children:[(0,b.jsx)(k.CheckCircle,{className:"w-4 h-4 mr-1"}),v===a.id?"...":"Accept"]}),(0,b.jsxs)(f.Button,{size:"sm",variant:"outline",className:"border-destructive text-destructive hover:bg-destructive/10 bg-transparent",onClick:()=>O(a.id),disabled:v===a.id,children:[(0,b.jsx)(l.XCircle,{className:"w-4 h-4 mr-1"}),v===a.id?"...":"Reject"]})]})]},a.id))})})]}),(0,b.jsxs)(e.Card,{className:"border-2 shadow-md",children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{className:"text-2xl font-bold",children:"Approved / Attended"}),(0,b.jsx)(e.CardDescription,{className:"text-base",children:"Complete after visit"})]}),(0,b.jsx)(e.CardContent,{children:0===T.length?(0,b.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"No approved/attended appointments"}):(0,b.jsx)("div",{className:"space-y-3",children:T.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg hover:bg-muted/50 transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-sm font-semibold text-primary",children:a.patients?.name?a.patients.name.charAt(0):"?"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-foreground",children:a.patients?.name||"Unknown Patient"}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:[a.date," at ",a.time]}),"attended"===a.status&&(0,b.jsx)("p",{className:"text-xs text-blue-600 font-semibold",children:"âœ“ Patient marked as attended - Ready to start"}),"in-progress"===a.status&&(0,b.jsx)("p",{className:"text-xs text-orange-600 font-semibold",children:"âš¡ Procedure in progress"})]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:["attended"===a.status&&(0,b.jsxs)(f.Button,{size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white",onClick:()=>P(a),disabled:v===a.id,children:[(0,b.jsx)(i.Bluetooth,{className:"w-4 h-4 mr-1"}),v===a.id?"...":"Start Procedure"]}),"in-progress"===a.status&&(0,b.jsxs)(f.Button,{size:"sm",className:"bg-orange-600 hover:bg-orange-700 text-white",onClick:()=>{G(a),C(!0)},disabled:v===a.id,children:[(0,b.jsx)(i.Bluetooth,{className:"w-4 h-4 mr-1"}),v===a.id?"...":"Add Treatments"]}),"confirmed"===a.status&&(0,b.jsx)(f.Button,{size:"sm",className:"bg-gray-400 text-white cursor-not-allowed",disabled:!0,children:"Waiting for Patient Check-in"})]})]},a.id))})})]}),(0,b.jsxs)(e.Card,{className:"border-2 shadow-md",children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{className:"text-2xl font-bold",children:"Today's Schedule"}),(0,b.jsx)(e.CardDescription,{className:"text-base",children:"Your confirmed appointments for today"})]}),(0,b.jsx)(e.CardContent,{children:0===U.length?(0,b.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"No appointments today"}):(0,b.jsx)("div",{className:"space-y-3",children:U.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 border border-border rounded-lg",children:[(0,b.jsx)("div",{className:"flex items-center gap-3",children:(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"font-medium text-foreground",children:a.patients?.name||"Unknown Patient"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.time})]})}),(0,b.jsx)("div",{className:"flex items-center gap-2",children:(0,b.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:"Confirmed"})})]},a.id))})})]})]}),B&&F&&(0,b.jsx)(w,{appointment:F,onClose:()=>{C(!1),G(null)},onSaveAndComplete:Q}),D&&F&&(0,b.jsx)(z,{appointment:F,treatmentCount:H,onClose:()=>{E(!1),G(null)}})]})}a.s(["default",()=>A],72351)}];

//# sourceMappingURL=app_dentist_dashboard_page_tsx_7d254102._.js.map