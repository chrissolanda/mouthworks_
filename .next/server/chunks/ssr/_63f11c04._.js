module.exports=[16201,a=>{"use strict";let b=(0,a.i(70106).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>b],16201)},92e3,a=>{"use strict";let b=(0,a.i(70106).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],92e3)},90166,a=>{"use strict";let b=(0,a.i(70106).default)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);a.s(["DollarSign",()=>b],90166)},11156,a=>{"use strict";let b=(0,a.i(70106).default)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);a.s(["CreditCard",()=>b],11156)},46842,a=>{"use strict";let b=(0,a.i(70106).default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);a.s(["User",()=>b],46842)},84505,a=>{"use strict";let b=(0,a.i(70106).default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);a.s(["Download",()=>b],84505)},65178,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(21937),e=a.i(96313),f=a.i(3130),g=a.i(40695),h=a.i(30617),i=a.i(41675),j=a.i(46842),k=a.i(11156),l=a.i(84505),m=a.i(92e3),n=a.i(16201),o=a.i(90166),p=a.i(2288),q=a.i(97895);function r(){let{user:a}=(0,d.useAuth)(),[r,s]=(0,c.useState)([]),[t,u]=(0,c.useState)(!0),[v,w]=(0,c.useState)({totalBalance:0,totalPaid:0,total:0});(0,c.useEffect)(()=>{if(a?.id){x();let a=setInterval(()=>{x()},3e3);return()=>clearInterval(a)}},[a?.id]);let x=async()=>{try{u(!0);let b=await p.paymentService.getByPatientId(a?.id||""),c=await p.paymentService.getPatientBalance(a?.id||"");s(b||[]),w(c||{totalBalance:0,totalPaid:0,total:0})}catch(a){console.error("[v0] Error loading payments:",a instanceof Error?a.message:a),s([]),w({totalBalance:0,totalPaid:0,total:0})}finally{u(!1)}},y=[{label:"Dashboard",icon:(0,b.jsx)(h.LayoutDashboard,{className:"w-5 h-5"}),href:"/patient/dashboard"},{label:"My Appointments",icon:(0,b.jsx)(i.Calendar,{className:"w-5 h-5"}),href:"/patient/appointments"},{label:"My Profile",icon:(0,b.jsx)(j.User,{className:"w-5 h-5"}),href:"/patient/profile"},{label:"Payment History",icon:(0,b.jsx)(k.CreditCard,{className:"w-5 h-5"}),href:"/patient/payments"}];return(0,b.jsx)(e.default,{navItems:y,title:"Payment History",children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-foreground",children:"Payment History"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"View your payments and outstanding balance"})]}),(0,b.jsx)(g.Button,{onClick:x,variant:"outline",size:"sm",children:"ðŸ”„ Refresh"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)(f.Card,{className:"hover:shadow-md transition-shadow border-l-4 border-l-green-600",children:[(0,b.jsx)(f.CardHeader,{className:"pb-3",children:(0,b.jsxs)(f.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,b.jsx)(n.CheckCircle,{className:"w-4 h-4 text-green-600"}),"Total Paid"]})}),(0,b.jsxs)(f.CardContent,{children:[(0,b.jsx)("div",{className:"text-3xl font-bold text-green-600",children:(0,q.formatCurrency)(v.totalPaid)}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"All payments received"})]})]}),(0,b.jsxs)(f.Card,{className:"hover:shadow-md transition-shadow border-l-4 border-l-destructive",children:[(0,b.jsx)(f.CardHeader,{className:"pb-3",children:(0,b.jsxs)(f.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,b.jsx)(m.AlertCircle,{className:"w-4 h-4 text-destructive"}),"Outstanding Balance"]})}),(0,b.jsxs)(f.CardContent,{children:[(0,b.jsx)("div",{className:"text-3xl font-bold text-destructive",children:(0,q.formatCurrency)(v.totalBalance)}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Pending payment"})]})]}),(0,b.jsxs)(f.Card,{className:"hover:shadow-md transition-shadow border-l-4 border-l-primary",children:[(0,b.jsx)(f.CardHeader,{className:"pb-3",children:(0,b.jsxs)(f.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,b.jsx)(o.DollarSign,{className:"w-4 h-4 text-primary"}),"Total Transactions"]})}),(0,b.jsxs)(f.CardContent,{children:[(0,b.jsx)("div",{className:"text-3xl font-bold text-primary",children:r.length}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Payments & invoices"})]})]})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsx)(f.CardTitle,{children:"Payment History"}),(0,b.jsx)(f.CardDescription,{children:"All your payments and invoices"})]}),(0,b.jsx)(f.CardContent,{children:t?(0,b.jsx)("div",{className:"text-center text-muted-foreground py-8",children:"Loading payment history..."}):(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-border",children:[(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-foreground",children:"Payment ID"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-foreground",children:"Date"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-foreground",children:"Appointment"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-foreground",children:"Description"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-foreground",children:"Dentist"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-foreground",children:"Amount"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-foreground",children:"Method"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-foreground",children:"Status"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-foreground",children:"Action"})]})}),(0,b.jsx)("tbody",{children:0===r.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:9,className:"py-8 text-center text-muted-foreground",children:"No payment history"})}):r.map(a=>(0,b.jsxs)("tr",{className:"border-b border-border hover:bg-muted/50 transition-colors",children:[(0,b.jsx)("td",{className:"py-3 px-4 text-sm text-foreground font-mono text-xs",children:a.id}),(0,b.jsx)("td",{className:"py-3 px-4 text-sm text-foreground",children:a.date?new Date(a.date).toLocaleDateString():"-"}),(0,b.jsx)("td",{className:"py-3 px-4 text-sm text-muted-foreground",children:a.appointment_id||"-"}),(0,b.jsx)("td",{className:"py-3 px-4 text-sm text-foreground",children:a.description||"-"}),(0,b.jsx)("td",{className:"py-3 px-4 text-sm text-muted-foreground",children:a.dentists?.name||"-"}),(0,b.jsx)("td",{className:"py-3 px-4 text-sm font-semibold text-foreground",children:(0,q.formatCurrency)(a.amount)}),(0,b.jsx)("td",{className:"py-3 px-4 text-sm text-muted-foreground",children:a.method||"-"}),(0,b.jsx)("td",{className:"py-3 px-4",children:(0,b.jsxs)("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-semibold ${"paid"===a.status?"bg-green-100 text-green-700":"partial"===a.status?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:["paid"===a.status?(0,b.jsx)(n.CheckCircle,{className:"w-3 h-3"}):(0,b.jsx)(m.AlertCircle,{className:"w-3 h-3"}),a.status.charAt(0).toUpperCase()+a.status.slice(1)]})}),(0,b.jsx)("td",{className:"py-3 px-4",children:(0,b.jsxs)("button",{onClick:()=>{let b=new Blob([JSON.stringify(a,null,2)],{type:"application/json"}),c=URL.createObjectURL(b),d=document.createElement("a");d.href=c,d.download=`payment-${a.id}.json`,d.click(),URL.revokeObjectURL(c)},className:"text-primary hover:text-primary/80 transition-colors flex items-center gap-2",title:"Download payment details",children:[(0,b.jsx)(l.Download,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"sr-only",children:"Download"})]})})]},a.id))})]})})})]})]})})}a.s(["default",()=>r])}];

//# sourceMappingURL=_63f11c04._.js.map