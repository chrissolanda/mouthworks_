module.exports=[11156,a=>{"use strict";let b=(0,a.i(70106).default)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);a.s(["CreditCard",()=>b],11156)},46842,a=>{"use strict";let b=(0,a.i(70106).default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);a.s(["User",()=>b],46842)},11421,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(21937),e=a.i(96313),f=a.i(3130),g=a.i(41675),h=a.i(11156),i=a.i(30617),j=a.i(46842),k=a.i(38246),l=a.i(2288),m=a.i(97895);function n(){let{user:a,patientAutoApproved:n}=(0,d.useAuth)(),[o,p]=(0,c.useState)({upcomingCount:0,outstandingBalance:0,lastVisit:""}),[q,r]=(0,c.useState)([]),[s,t]=(0,c.useState)(!0);(0,c.useEffect)(()=>{(async()=>{try{if(!a?.id)return void t(!1);let b=[],c=[];try{b=await l.appointmentService.getByPatientId(a.id)||[]}catch(c){let a=c instanceof Error?c.message:JSON.stringify(c);console.error("[v0] Error loading appointments:",a,c),b=[]}try{c=await l.paymentService.getByPatientId(a.id)||[]}catch(b){let a=b instanceof Error?b.message:JSON.stringify(b);console.error("[v0] Error loading payments:",a,b),c=[]}let d=b?.filter(a=>"completed"!==a.status)?.length||0,e=c?.filter(a=>"paid"!==a.status)?.reduce((a,b)=>a+(b.amount||0),0)||0,f=b?.filter(a=>"completed"===a.status)||[],g=f.length>0?new Date(f[0].date).toLocaleDateString():"No visits yet";p({upcomingCount:d,outstandingBalance:e,lastVisit:g}),r(b?.slice(0,3)||[])}catch(a){console.error("[v0] Error loading dashboard:",a instanceof Error?a.message:a),p({upcomingCount:0,outstandingBalance:0,lastVisit:"No visits yet"}),r([])}finally{t(!1)}})()},[a?.id]);let u=[{label:"Dashboard",icon:(0,b.jsx)(i.LayoutDashboard,{className:"w-5 h-5"}),href:"/patient/dashboard"},{label:"My Appointments",icon:(0,b.jsx)(g.Calendar,{className:"w-5 h-5"}),href:"/patient/appointments"},{label:"My Profile",icon:(0,b.jsx)(j.User,{className:"w-5 h-5"}),href:"/patient/profile"},{label:"Payment History",icon:(0,b.jsx)(h.CreditCard,{className:"w-5 h-5"}),href:"/patient/payments"}];return(0,b.jsx)(e.default,{navItems:u,title:"Patient Dashboard",children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-r from-primary to-accent rounded-xl p-8 text-primary-foreground shadow-lg",children:[(0,b.jsxs)("h1",{className:"text-4xl font-bold mb-2",children:["Welcome back, ",a?.name,"!"]}),(0,b.jsx)("p",{className:"text-lg opacity-90",children:"Manage your dental appointments and health records"})]}),n&&(0,b.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0",children:(0,b.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold text-green-900",children:"Your request has been approved!"}),(0,b.jsx)("p",{className:"text-sm text-green-700",children:"You're all set. You can now book appointments."})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,b.jsxs)(f.Card,{className:"border-2 hover:border-primary hover:shadow-lg transition-all",children:[(0,b.jsx)(f.CardHeader,{className:"pb-3",children:(0,b.jsx)(f.CardTitle,{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Upcoming Appointments"})}),(0,b.jsxs)(f.CardContent,{children:[(0,b.jsx)("div",{className:"text-4xl font-bold text-primary",children:o.upcomingCount}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"Scheduled appointments"})]})]}),(0,b.jsxs)(f.Card,{className:"border-2 hover:border-destructive hover:shadow-lg transition-all",children:[(0,b.jsx)(f.CardHeader,{className:"pb-3",children:(0,b.jsx)(f.CardTitle,{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Outstanding Balance"})}),(0,b.jsxs)(f.CardContent,{children:[(0,b.jsx)("div",{className:"text-4xl font-bold text-destructive",children:(0,m.formatCurrency)(o.outstandingBalance)}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"Pending payments"})]})]}),(0,b.jsxs)(f.Card,{className:"border-2 hover:border-accent hover:shadow-lg transition-all",children:[(0,b.jsx)(f.CardHeader,{className:"pb-3",children:(0,b.jsx)(f.CardTitle,{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Last Visit"})}),(0,b.jsxs)(f.CardContent,{children:[(0,b.jsx)("div",{className:"text-4xl font-bold text-accent",children:o.lastVisit}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"Most recent visit"})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsx)(k.default,{href:"/patient/appointments",className:"block",children:(0,b.jsxs)(f.Card,{className:"border-2 hover:border-primary hover:shadow-xl transition-all cursor-pointer h-full group",children:[(0,b.jsx)(f.CardHeader,{className:"pb-3",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-primary/10 rounded-lg group-hover:bg-primary/20 transition-colors",children:(0,b.jsx)(g.Calendar,{className:"w-5 h-5 text-primary"})}),(0,b.jsx)(f.CardTitle,{className:"text-lg font-bold",children:"Book Appointment"})]})}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Schedule your next dental visit"})})]})}),(0,b.jsx)(k.default,{href:"/patient/payments",className:"block",children:(0,b.jsxs)(f.Card,{className:"border-2 hover:border-primary hover:shadow-xl transition-all cursor-pointer h-full group",children:[(0,b.jsx)(f.CardHeader,{className:"pb-3",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-primary/10 rounded-lg group-hover:bg-primary/20 transition-colors",children:(0,b.jsx)(h.CreditCard,{className:"w-5 h-5 text-primary"})}),(0,b.jsx)(f.CardTitle,{className:"text-lg font-bold",children:"Payment Info"})]})}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"View and manage your payments"})})]})})]}),(0,b.jsxs)(f.Card,{className:"border-2 shadow-md",children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsx)(f.CardTitle,{className:"text-2xl font-bold",children:"Recent Appointments"}),(0,b.jsx)(f.CardDescription,{className:"text-base",children:"Your last 3 appointments"})]}),(0,b.jsx)(f.CardContent,{children:s?(0,b.jsx)("div",{className:"text-center py-4 text-muted-foreground",children:"Loading..."}):0===q.length?(0,b.jsx)("div",{className:"text-center py-4 text-muted-foreground",children:"No appointments yet"}):(0,b.jsx)("div",{className:"space-y-4",children:q.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 border border-border rounded-lg hover:bg-muted/50 transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(g.Calendar,{className:"w-4 h-4 text-primary"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-foreground",children:a.service}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:[new Date(a.date).toLocaleDateString()," at ",a.time]})]})]}),(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:a.dentists?.name||"TBD"})]},a.id))})})]})]})})}a.s(["default",()=>n])}];

//# sourceMappingURL=_92a02679._.js.map